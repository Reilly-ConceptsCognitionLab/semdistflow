[{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/articles/BigramSemanticDistance-vignette.html","id":"preparing-your-texts","dir":"Articles","previous_headings":"","what":"Preparing your texts","title":"BigramSemanticDistance-vignette","text":"text wish process saved .txt file. text can stored one folder broken multiple folders. file names given folder unique.","code":""},{"path":[]},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/articles/BigramSemanticDistance-vignette.html","id":"loading-your-texts","dir":"Articles","previous_headings":"","what":"Loading your texts","title":"BigramSemanticDistance-vignette","text":"resulting data.frame two columns “doc_id” “doc_text”. wish use package want read data another way, must ensure columns names “doc_id” “doc_text”. “doc_id” column unique text. may include columns wish.","code":"mytexts <- readtxt(\".\") #reads all .txt in the working directory  mytextsinfolder <- readtxt(\"./your-text-folder\") #reads all texts in a given folder in the working directory #>                                                                                                                                        doc_id #> 1 /private/var/folders/g0/mjy7jjt50v3cgv592cnt1pw40000gn/T/RtmpNv667B/temp_libpath408457ea2c00/semdistflow/extdata/Blake_BookofThel_part1.txt #> 2                /private/var/folders/g0/mjy7jjt50v3cgv592cnt1pw40000gn/T/RtmpNv667B/temp_libpath408457ea2c00/semdistflow/extdata/sticks2.txt #>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          doc_text #> 1 The daughters of Mne Seraphim led round their sunny flocks. All but the youngest; she in paleness sought the secret air.  To fade away like morning beauty from her mortal day:  Down by the river of Adona her soft voice is heard:  And thus her gentle lamentation falls like morning dew.   O life of this our spring! why fades the lotus of the water? Why fade these children of the spring? born but to smile & fall.  Ah! Thel is like a watry bow. and like a parting cloud.  Like a reflection in a glass. like shadows in the water.  Like dreams of infants. like a smile upon an infants face, Like the doves voice, like transient day, like music in the air;  Ah! gentle may I lay me down, and gentle rest my head, And gentle sleep the sleep of death. and gentle hear the voice Of him that walketh in the garden in the evening time.  The Lilly of the valley breathing in the humble grass Answer'd the lovely maid and said: I am a watry weed, And I am very small, and love to dwell in lowly vales; So weak, the gilded butterfly scarce perches on my head.  Yet I am visited from heaven and he that smiles on all.  Walks in the valley. and each morn over me spreads his hand  Saying, rejoice thou humble grass, thou new-born lilly flower, Thou gentle maid of silent valleys. and of modest brooks; For thou shalt be clothed in light, and fed with morning manna:  Till summers heat melts thee beside the fountains and the springs To flourish in eternal vales: then why should Thel complain,   Why should the mistress of the vales of Har, utter a sigh.   She ceasd & smild in tears, then sat down in her silver shrine.  Thel answered. O thou little virgin of the peaceful valley.  Giving to those that cannot crave, the voiceless, the o'ertired.  Thy breath doth nourish the innocent lamb, he smells thy milky garments, He crops thy flowers. while thou sittest smiling in his face, Wiping his mild and meekin mouth from all contagious taints. Thy wine doth purify the golden honey, thy perfume, Which thou dost scatter on every little blade of grass that springs, Revives the milked cow, & tames the fire-breathing steed. But Thel is like a faint cloud kindled at the rising sun: I vanish from my pearly throne, and who shall find my place?\"  \"Queen of the vales,\" the Lily answered, \"ask the tender cloud, And it shall tell thee why it glitters in the morning sky, And why it scatters its bright beauty thro' the humid air. Descend, O little cloud, & hover before the eyes of Thel.\"  The Cloud descended, and the Lily bowd her modest head, And went to mind her numerous charge among the verdant grass. #> 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Every year Thanksgiving night we flocked out behind Dad as he dragged the Santa suit to the road and draped it over a kind of crucifix he'd built out of metal pole in the yard. Super Bowl week the pole was dressed in a jersey and Rod's helmet and Rod had to clear it with Dad if he wanted to take the helmet off. On the Fourth of July the pole was Uncle Sam, on Veteran’s Day a soldier,  on Halloween a ghost. The pole was Dad's only concession to glee. We were allowed a single Crayola from the box at a time. One Christmas Eve he shrieked at Kimmie for wasting an apple slice. He hovered over us as we poured ketchup saying: good enough good enough good enough. Birthday parties consisted of cupcakes, no ice cream. The first time I brought a date over she said: what's with your dad and that pole? and I sat there blinking. We left home, married,  had children of our own, found the seeds of meanness blooming also within us. Dad began dressing the pole with more complexity and less discernible logic. He draped some kind of fur over it on Groundhog Day and lugged out a floodlight to ensure a shadow. When an earthquake struck Chile he lay the pole on its side and spray painted a rift in the earth. Mom died and he dressed the pole as Death and hung from the crossbar photos of Mom as a baby. We'd stop by and find odd talismans from his youth arranged around the base: army medals, theater tickets, old sweatshirts, tubes of Mom's makeup. One autumn he painted the pole bright yellow. He covered it with cotton swabs that winter for warmth and provided offspring by hammering in six crossed sticks around the yard. He ran lengths of string between the pole and the sticks, and taped to the string letters of apology, admissions of error, pleas for understanding, all written in a frantic hand on index cards. He painted a sign saying LOVE and hung it from the pole and another that said FORGIVE? and then he died in the hall with the radio on and we sold the house to a young couple who yanked out the pole and the sticks and left them by the road on garbage day."},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/articles/BigramSemanticDistance-vignette.html","id":"cleaning-your-data","dir":"Articles","previous_headings":"","what":"“Cleaning” your data","title":"BigramSemanticDistance-vignette","text":"Explaining cleaning functions . Open Class (Content) Words XXXXXX Ommissions XXXXXXXXX. Replacements XXXXXXXXXXXXX.","code":"mytext.clean <- cleanme(mytext) #> Performing cleaning retaining pronouns #> # A tibble: 2 × 3 #> # Groups:   doc_id [2] #>   doc_id                                                      doc_text doc_clean #>   <chr>                                                       <chr>    <chr>     #> 1 /private/var/folders/g0/mjy7jjt50v3cgv592cnt1pw40000gn/T/R… \"The da… \" daught… #> 2 /private/var/folders/g0/mjy7jjt50v3cgv592cnt1pw40000gn/T/R… \"Every … \" year t…"},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/articles/BigramSemanticDistance-vignette.html","id":"tokenize-and-lemmatize-your-data","dir":"Articles","previous_headings":"","what":"Tokenize and lemmatize your data","title":"BigramSemanticDistance-vignette","text":"many ways tokenize lemmatize data. use package tidy text tokenize data textstem lemmatize .","code":"mytext.token<- mytext.clean %>%   unnest_tokens(word, doc_clean)  mytext.token$lemma<- textstem::lemmatize_words(mytext.token$word) #> # A tibble: 6 × 3 #> # Groups:   doc_id [1] #>   doc_id                                                             word  lemma #>   <chr>                                                              <chr> <chr> #> 1 /private/var/folders/g0/mjy7jjt50v3cgv592cnt1pw40000gn/T/RtmpNv66… daug… daug… #> 2 /private/var/folders/g0/mjy7jjt50v3cgv592cnt1pw40000gn/T/RtmpNv66… mne   mne   #> 3 /private/var/folders/g0/mjy7jjt50v3cgv592cnt1pw40000gn/T/RtmpNv66… sera… sera… #> 4 /private/var/folders/g0/mjy7jjt50v3cgv592cnt1pw40000gn/T/RtmpNv66… led   lead  #> 5 /private/var/folders/g0/mjy7jjt50v3cgv592cnt1pw40000gn/T/RtmpNv66… round round #> 6 /private/var/folders/g0/mjy7jjt50v3cgv592cnt1pw40000gn/T/RtmpNv66… their their"},{"path":[]},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/articles/BigramSemanticDistance-vignette.html","id":"using-glove-embeddings","dir":"Articles","previous_headings":"Between Word Distance Calculations","what":"Using GloVe embeddings","title":"BigramSemanticDistance-vignette","text":"","code":"mytext.glove <- bigram_cos_sim(targetdf = mytext.token, lookupdb = wiki_model_100, colname1 = lemma, colname2 = word) #> # A tibble: 6 × 5 #>   doc_id                                     word  lemma_pair1 lemma cosine.dist #>   <chr>                                      <chr> <chr>       <chr>       <dbl> #> 1 /private/var/folders/g0/mjy7jjt50v3cgv592… daug… NA          daug…      NA     #> 2 /private/var/folders/g0/mjy7jjt50v3cgv592… mne   daughter    mne        NA     #> 3 /private/var/folders/g0/mjy7jjt50v3cgv592… sera… mne         sera…      NA     #> 4 /private/var/folders/g0/mjy7jjt50v3cgv592… led   seraph      lead       NA     #> 5 /private/var/folders/g0/mjy7jjt50v3cgv592… round lead        round       0.338 #> 6 /private/var/folders/g0/mjy7jjt50v3cgv592… their round       their       0.265"},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/articles/BigramSemanticDistance-vignette.html","id":"using-semdist15-embeddings","dir":"Articles","previous_headings":"Between Word Distance Calculations","what":"Using SemDist15 embeddings","title":"BigramSemanticDistance-vignette","text":"","code":"mytext.semdist <- bigram_cos_sim(targetdf = mytext.token, lookupdb = semdist15, colname1 = lemma, colname2 = word) #> # A tibble: 6 × 5 #>   doc_id                                     word  lemma_pair1 lemma cosine.dist #>   <chr>                                      <chr> <chr>       <chr>       <dbl> #> 1 /private/var/folders/g0/mjy7jjt50v3cgv592… daug… NA          daug…      NA     #> 2 /private/var/folders/g0/mjy7jjt50v3cgv592… mne   daughter    mne        NA     #> 3 /private/var/folders/g0/mjy7jjt50v3cgv592… sera… mne         sera…      NA     #> 4 /private/var/folders/g0/mjy7jjt50v3cgv592… led   seraph      lead       NA     #> 5 /private/var/folders/g0/mjy7jjt50v3cgv592… round lead        round      NA     #> 6 /private/var/folders/g0/mjy7jjt50v3cgv592… their round       their      -0.257"},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/articles/BigramSemanticDistance-vignette.html","id":"plot","dir":"Articles","previous_headings":"","what":"Plot","title":"BigramSemanticDistance-vignette","text":"","code":"library(stringr) mytext.glove <- mytext.glove %>%    mutate(text_name = sub('.*\\\\/', '', doc_id))  mytext.glove<- mytext.glove %>%   group_by(doc_id) %>%    mutate(id = row_number())   theme_plot <- ggplot(mytext.glove, aes(x = id, y=cosine.dist)) +  geom_line(color=\"#02401BD9\") + facet_grid(~text_name, scales=\"free\")  theme_plot #> Warning: Removed 4 row(s) containing missing values (geom_path). mytext.semdist <- mytext.semdist %>%    mutate(text_name = sub('.*\\\\/', '', doc_id))  mytext.semdist<- mytext.semdist %>%   group_by(doc_id) %>%    mutate(id = row_number())   tax_plot <- ggplot(mytext.semdist, aes(x = id, y=cosine.dist)) +  geom_line(color=\"#EBCC2AA3\") + facet_grid(~text_name, scales=\"free\")  tax_plot #> Warning: Removed 5 row(s) containing missing values (geom_path)."},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"package maintainer. Maintainer.","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Ww (2022). semdistflow: strip, format, vectorize text sequential bigram semantic distance. R package version 0.1.0, https://reilly-conceptscognitionlab.github.io/semdistflow.","code":"@Manual{,   title = {semdistflow: strip, format, vectorize text to sequential bigram semantic distance},   author = {Who wrote it},   year = {2022},   note = {R package version 0.1.0},   url = {https://reilly-conceptscognitionlab.github.io/semdistflow}, }"},{"path":[]},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"strip, format, vectorize text to sequential bigram semantic distance","text":"goal semdistflow …","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"strip, format, vectorize text to sequential bigram semantic distance","text":"can install development version semdistflow GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"Reilly-ConceptsCognitionLab/semdistflow\")"},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"strip, format, vectorize text to sequential bigram semantic distance","text":"basic example shows solve common problem:","code":"library(semdistflow) ## basic example code"},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/bigram_cos_sim.html","id":null,"dir":"Reference","previous_headings":"","what":"Rowwise Cosine Calculations — bigram_cos_sim","title":"Rowwise Cosine Calculations — bigram_cos_sim","text":"Details ","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/bigram_cos_sim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rowwise Cosine Calculations — bigram_cos_sim","text":"","code":"bigram_cos_sim(   targetdf = x,   lookupdb = wordvec,   colname1 = NULL,   colname2 = NULL )"},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/bigram_cos_sim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rowwise Cosine Calculations — bigram_cos_sim","text":"targetdf data frame long list target words. lookupdb data frame containing ratings colname1 column name targetdf used join colname2 column name lookupdb used join","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/bigram_euc_diff.html","id":null,"dir":"Reference","previous_headings":"","what":"Rowwise Euclidean Distance — bigram_euc_diff","title":"Rowwise Euclidean Distance — bigram_euc_diff","text":"Rowwise Euclidean Distance","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/bigram_euc_diff.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rowwise Euclidean Distance — bigram_euc_diff","text":"targetdf data frame long list target words. lookupdb data frame containing ratings colname1 column name targetdf used join colname2 column name lookupdb used join","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/clean_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean Raw Text — clean_df","title":"Clean Raw Text — clean_df","text":"Use helper functions clean raw text","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/clean_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean Raw Text — clean_df","text":"","code":"clean_df(x)"},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/clean_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean Raw Text — clean_df","text":"x dataframe raw text column titled \"doc_text\".","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/clean_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean Raw Text — clean_df","text":"function clean_df return dataframe cleaned text documents, document ID raw text.","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/clean_df_nopronouns.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean Raw Text keeping pronouns — clean_df_nopronouns","title":"Clean Raw Text keeping pronouns — clean_df_nopronouns","text":"Use helper functions clean raw text","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/clean_df_nopronouns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean Raw Text keeping pronouns — clean_df_nopronouns","text":"","code":"clean_df_nopronouns(x)"},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/clean_df_nopronouns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean Raw Text keeping pronouns — clean_df_nopronouns","text":"x dataframe raw text column titled \"doc_text\".","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/clean_df_nopronouns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean Raw Text keeping pronouns — clean_df_nopronouns","text":"function clean_df_nopronouns return dataframe cleaned text documents, document ID raw text.","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/cleanme.html","id":null,"dir":"Reference","previous_headings":"","what":"Applies cleaning function to multiple texts — cleanme","title":"Applies cleaning function to multiple texts — cleanme","text":"Uses helper functions clean raw text","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/cleanme.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Applies cleaning function to multiple texts — cleanme","text":"","code":"cleanme(datafile, replace_pronoun = FALSE)"},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/cleanme.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Applies cleaning function to multiple texts — cleanme","text":"x dataframe mutiple documents denoted column titled \"doc_id\" raw text column titled \"doc_text\" .","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/cleanme.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Applies cleaning function to multiple texts — cleanme","text":"function cleanme return dataframe cleaned text documents, document ID raw text.","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/hello.html","id":null,"dir":"Reference","previous_headings":"","what":"Hello, World! — hello","title":"Hello, World! — hello","text":"Prints 'Hello, world!'.","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/hello.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hello, World! — hello","text":"","code":"hello()"},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/hello.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Hello, World! — hello","text":"","code":"hello() #> Error in hello(): could not find function \"hello\""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/pronouns_titles.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace pronouns and titles with XX — pronouns_titles","title":"Replace pronouns and titles with XX — pronouns_titles","text":"code uses gsub remove titles (Mr., Ms.) pronouns (, ) replaces XX (person, man, women).","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/pronouns_titles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace pronouns and titles with XX — pronouns_titles","text":"","code":"pronouns_titles(x)"},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/pronouns_titles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace pronouns and titles with XX — pronouns_titles","text":"x vector words.","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/readtxt.html","id":null,"dir":"Reference","previous_headings":"","what":"Read in Text — readtxt","title":"Read in Text — readtxt","text":"Read .txt documents specified folder found current working directory.","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/readtxt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read in Text — readtxt","text":"","code":"readtxt(folder_name = \"data\")"},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/readtxt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read in Text — readtxt","text":"folder_name string.","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/readtxt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read in Text — readtxt","text":"function readtxt return single dataframe text documents document ID","code":""},{"path":"https://reilly-conceptscognitionlab.github.io/semdistflow/reference/readtxt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read in Text — readtxt","text":"","code":"readtxt(\"text\") #> [1] doc_id #> <0 rows> (or 0-length row.names) readtxt(\"data\") #> [1] doc_id #> <0 rows> (or 0-length row.names)"}]
