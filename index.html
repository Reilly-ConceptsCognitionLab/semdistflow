<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Options for reading your text into R, cleaning and stripping the text to isolate open class words, tokenizing into sequential bigrams and computing semantic distance for each bigram.">
<title>strip, format, vectorize text to sequential bigram semantic distance • semdistflow</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="strip, format, vectorize text to sequential bigram semantic distance">
<meta property="og:description" content="Options for reading your text into R, cleaning and stripping the text to isolate open class words, tokenizing into sequential bigrams and computing semantic distance for each bigram.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">semdistflow</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/BigramSemanticDistance-vignette.html">BigramSemanticDistance-vignette</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="semdistflow">semdistflow<a class="anchor" aria-label="anchor" href="#semdistflow"></a>
</h1></div>
<!-- badges: start --><!-- badges: end --><div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>‘semdistflow’ transforms any user-specified text into sequential bigrams (e.g. ‘The dog drinks the milk’ to dog-drink, drink-milk, etc.). The package can compute metrics of semantic distance for each bigram. Users have many options for parameterizing semantic distance and tailoring their analyses to their own unique constraints (e.g., omitting stopwords, lemmatizing tokens, dimensionality of word embeddings).</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of semdistflow from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"Reilly-ConceptsCognitionLab/semdistflow"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Skipping install of 'semdistflow' from a github remote, the SHA1 (bc8d9b9a) has not changed since last install.</span></span>
<span><span class="co">#&gt;   Use `force = TRUE` to force installation</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-of-cleaning-function">Example of Cleaning Function<a class="anchor" aria-label="anchor" href="#example-of-cleaning-function"></a>
</h2>
<p>This is a basic example which shows you how the cleanme function works:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://reilly-conceptscognitionlab.github.io/semdistflow">semdistflow</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">doc_id</span> <span class="op">&lt;-</span> <span class="st">"fox"</span></span>
<span><span class="va">doc_text</span> <span class="op">&lt;-</span> <span class="st">"The quick brown fox jumps over the lazy dog."</span></span>
<span><span class="va">fox_text</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">doc_id</span>,<span class="va">doc_text</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">fox_text</span></span>
<span><span class="co">#&gt;   doc_id                                     doc_text</span></span>
<span><span class="co">#&gt; 1    fox The quick brown fox jumps over the lazy dog.</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fox_clean</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cleanme.html">cleanme</a></span><span class="op">(</span><span class="va">fox_text</span><span class="op">)</span></span>
<span><span class="co">#&gt; Performing cleaning retaining pronouns</span></span>
<span><span class="va">fox_clean</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 3</span></span>
<span><span class="co">#&gt; # Groups:   doc_id [1]</span></span>
<span><span class="co">#&gt;   doc_id doc_text                                     doc_clean                 </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;                                        &lt;chr&gt;                     </span></span>
<span><span class="co">#&gt; 1 fox    The quick brown fox jumps over the lazy dog. " quick brown fox jumps l…</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-of-semantic-distance-function">Example of Semantic Distance Function<a class="anchor" aria-label="anchor" href="#example-of-semantic-distance-function"></a>
</h2>
<p>This is a basic example which shows you how the cleanme function works:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fox_token</span> <span class="op">&lt;-</span><span class="va">fox_clean</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">doc_id</span>, <span class="va">doc_text</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">tidytext</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tidytext/man/unnest_tokens.html" class="external-link">unnest_tokens</a></span><span class="op">(</span><span class="va">word</span>, <span class="va">doc_clean</span>, drop<span class="op">=</span><span class="cn">F</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fox_token</span><span class="op">$</span><span class="va">lemma</span><span class="op">&lt;-</span> <span class="fu">textstem</span><span class="fu">::</span><span class="fu">lemmatize_words</span><span class="op">(</span><span class="va">fox_token</span><span class="op">$</span><span class="va">word</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">fox_token</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 5</span></span>
<span><span class="co">#&gt; # Groups:   doc_id, doc_text [1]</span></span>
<span><span class="co">#&gt;   doc_id doc_text                                     doc_clean      word  lemma</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;                                        &lt;chr&gt;          &lt;chr&gt; &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 1 fox    The quick brown fox jumps over the lazy dog. " quick brown… quick quick</span></span>
<span><span class="co">#&gt; 2 fox    The quick brown fox jumps over the lazy dog. " quick brown… brown brown</span></span>
<span><span class="co">#&gt; 3 fox    The quick brown fox jumps over the lazy dog. " quick brown… fox   fox  </span></span>
<span><span class="co">#&gt; 4 fox    The quick brown fox jumps over the lazy dog. " quick brown… jumps jump </span></span>
<span><span class="co">#&gt; 5 fox    The quick brown fox jumps over the lazy dog. " quick brown… lazy  lazy </span></span>
<span><span class="co">#&gt; 6 fox    The quick brown fox jumps over the lazy dog. " quick brown… dog   dog</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fox_dist</span> <span class="op">&lt;-</span>  <span class="fu"><a href="reference/bigram_cos_sim.html">bigram_cos_sim</a></span><span class="op">(</span>targetdf <span class="op">=</span> <span class="va">fox_token</span>, lookupdb <span class="op">=</span> <span class="va">semdist15</span>, colname1 <span class="op">=</span> <span class="va">lemma</span>, colname2 <span class="op">=</span> <span class="va">word</span>, flipped <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="co">#&gt; Isolating join columns</span></span>
<span><span class="co">#&gt; Adding missing grouping variables: `doc_text`</span></span>
<span><span class="co">#&gt; Joining data + print</span></span>
<span><span class="co">#&gt; Calculating pairwise cosine similarities</span></span>
<span><span class="co">#&gt; Writing output dataframe</span></span>
<span></span>
<span><span class="va">fox_dist</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 8</span></span>
<span><span class="co">#&gt;   doc_id doc_text       doc_clean word  lemma pair  cosine.dist flipped_cosine.…</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt;          &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt;            &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 fox    The quick bro… " quick … quick quick NA-q…     NA                NA    </span></span>
<span><span class="co">#&gt; 2 fox    The quick bro… " quick … brown brown quic…     -0.171             1.17 </span></span>
<span><span class="co">#&gt; 3 fox    The quick bro… " quick … fox   fox   brow…      0.481             0.519</span></span>
<span><span class="co">#&gt; 4 fox    The quick bro… " quick … jumps jump  fox-…     -0.0473            1.05 </span></span>
<span><span class="co">#&gt; 5 fox    The quick bro… " quick … lazy  lazy  jump…      0.303             0.697</span></span>
<span><span class="co">#&gt; 6 fox    The quick bro… " quick … dog   dog   lazy…     -0.293             1.29</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">fox_dist</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/row.names.html" class="external-link">row.names</a></span><span class="op">(</span><span class="va">fox_dist</span><span class="op">)</span><span class="op">)</span>, y<span class="op">=</span><span class="va">flipped_cosine.dist</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"#02401BD9"</span>, size<span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>  <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_label</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label<span class="op">=</span><span class="va">pair</span><span class="op">)</span>, size<span class="op">=</span><span class="fl">3</span>, data<span class="op">=</span><span class="va">fox_dist</span><span class="op">)</span>  </span>
<span><span class="co">#&gt; Warning: Removed 1 row(s) containing missing values (geom_path).</span></span>
<span><span class="co">#&gt; Warning: Removed 1 rows containing missing values (geom_label).</span></span></code></pre></div>
<p><img src="reference/figures/README-plot-1.png" width="100%"></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing semdistflow</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Bonnie M. Zuckerman <br><small class="roles"> Author </small>  </li>
<li>Jamie Reilly <br><small class="roles"> Author, maintainer </small>  </li>
<li>Celia P. Litovsky <br><small class="roles"> Author </small>  </li>
<li>Ann Marie  Finley <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Bonnie M. Zuckerman, Jamie Reilly, Celia P. Litovsky, Ann Marie Finley.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
